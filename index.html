<!DOCTYPE html>
<html lang="en">
<head>   
  
<!--Meta tags-->
    <meta charset="utf-8">
    <title>Opening Hours</title>
    <meta name="description" content="Opening hours of custom business showing custom stuff and just focusing on javascript skills">
<!--CSS-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="styles.css">
    <link href="https://fonts.googleapis.com/css?family=Raleway:400,400i,700|Playfair+Display:400,700" rel="stylesheet"> 
<!--Responsive view-->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
</head>
<body>
    

    <div class="row">
        <div class="col-12 col-lg-4 mx-auto">
            <h1 class="text-center text-lg-left">Opening hours</h1>
            <table class="table openinghours">
                <tr>
                    <td>Monday</td>
                    <td>1pm - 6pm</td>
                </tr>
                <tr>
                    <td>Tuesday</td>
                    <td>10am - 6pm</td>
                </tr>
                <tr>
                    <td>Wednesday</td>
                    <td>10am - 6pm</td>
                </tr>
                <tr>
                    <td>Thursday</td>
                    <td>10am - 6pm</td>
                </tr>
                <tr>
                    <td>Friday</td>
                    <td>10am - 6pm</td>
                </tr>
                <tr>
                    <td>Saturday</td>
                    <td>10am - 6pm</td>
                </tr>
                <tr>
                    <td>Sunday</td>
                    <td>Closed</td>
                </tr>
            </table>
        </div>
        <div class="col-12 col-lg-4 mx-auto" id="rightside" >
            <p id="notification">display text</p>  
        </div>
    </div>

    <script>
        window.addEventListener('load',checkDayandTime)
                
            function checkDayandTime(){
                var date = new Date();
                var day = date.getDay();   
                var hour = date.getHours(); // 0 = 12am, 1 = 1am, ... 18 = 6pm\
                
                //Check if it's Sunday
                if (day == 0){
                    document.getElementById("notification").innerHTML = "Our shop is currently closed";
                }
                //Check if it's Monday
                else {
                    if (day == 1){
                        if (hour >= 13 && hour <18)  {
                            document.getElementById("notification").innerHTML = "Our shop is currently open";
                        }
                        else {
                        document.getElementById("notification").innerHTML = "Our shop is currently closed";
                        } 
                    }
                //When it's not Sunday or Monday...
                    else {
                        if (hour >= 10 && hour <18) {
                            document.getElementById("notification").innerHTML = "Our shop is currently open";
                        }
                        else {
                            document.getElementById("notification").innerHTML = "Our shop is currently closed";
                            }
                        }
                    }
                }

/*================================================================*/

        //BONUS OBJECTIVES

        var clockDigital = document.createElement('div');
            clockDigital.id = 'digitalClock';
            clockDigital.className = 'clock';
            document.getElementById('rightside').appendChild(clockDigital);
        
        function showTime() {
            var date = new Date();
            var h = date.getHours(); // 0 - 23
            var m = date.getMinutes(); // 0 - 59
            var session = "AM";
    
            if(h > 12){
                h = h - 12;
                session = "PM";
            }
    
            h = (h < 10) ? "0" + h : h;
            m = (m < 10) ? "0" + m : m;
    
            var time = h + ":" + m + " " + session;
            document.getElementById("digitalClock").innerText = time;
            document.getElementById("digitalClock").textContent = time;
    
            setTimeout(showTime, 1000);    
        }

        window.addEventListener('load',showTime);

/*==================================================*/

        //creates the button
        var btn = document.createElement('button');
        btn.innerHTML = "Close early";
        document.getElementById("rightside").appendChild(btn);

        btn.addEventListener('click',closeEarly)
            function closeEarly(){
            // get current date and time and display them right   
                var date = new Date();
                var day = date.getDay();   
                var h = date.getHours(); // 0 - 23
                var m = date.getMinutes(); // 0 - 59
                var session = "am";

                    if(h > 12){
                        h = h - 12;
                        session = "pm";
                    }

                h = (h < 10) ? "0" + h : h;
                m = (m < 10) ? "0" + m : m;

            // apply date and time on table

                    if (day == 1) { // Monday
                        document.getElementById("openinghours").rows[0].cells[1].innerHTML = "1pm - " + h + m + session;
                    }
                    if (day == 2) { // Tuesday
                        document.getElementById("openinghours").rows[1].cells[1].innerHTML = "10am - " + h + m + session;
                    }
                    if (day == 3) { // Wednesday
                        document.getElementById("openinghours").rows[2].cells[1].innerHTML = "10am - " + h + m + session;
                    }
                    if (day == 4) { // Thursday
                        document.getElementById("openinghours").rows[3].cells[1].innerHTML = "10am - " + h + m + session;
                    }
                    if (day == 5) { // Friday
                        document.getElementById("openinghours").rows[4].cells[1].innerHTML = "10am - " + h + m + session;
                    }
                    if (day == 6) { // Saturday
                        document.getElementById("openinghours").rows[5].cells[1].innerHTML = "10am - " + h + m + session;
                    }
            }

    </script>   
</body>
</html>